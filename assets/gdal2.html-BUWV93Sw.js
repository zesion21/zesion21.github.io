import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as s,o as a,b as n}from"./app-CFuNIExP.js";const h={},l=n(`<h1 id="使用-gdal-进行-png-文件的影像配准" tabindex="-1"><a class="header-anchor" href="#使用-gdal-进行-png-文件的影像配准"><span>使用 gdal 进行 png 文件的影像配准</span></a></h1><ol><li>一般图片的配准</li></ol><div class="language-kotlin line-numbers-mode" data-highlighter="shiki" data-ext="kotlin" data-title="kotlin" style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;--shiki-dark-bg:#272822;--shiki-light-bg:#FAFAFA;"><pre class="shiki shiki-themes monokai one-light vp-code"><code><span class="line"><span style="--shiki-dark:#88846F;--shiki-light:#A0A1A7;--shiki-dark-font-style:inherit;--shiki-light-font-style:italic;">// 创建4326坐标系</span></span>
<span class="line"><span style="--shiki-dark:#F92672;--shiki-light:#A626A4;">      private</span><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;"> val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> sp </span><span style="--shiki-dark:#F92672;--shiki-light:#A626A4;">by</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;"> lazy</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> {</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">           val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> sp </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;"> SpatialReference</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">()</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">           sp.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">ImportFromEPSG</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(</span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">4326</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">)</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">           sp</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">       }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#F92672;--shiki-light:#A626A4;">       private</span><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;"> val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> basePath: </span><span style="--shiki-dark:#A6E22E;--shiki-light:#C18401;--shiki-dark-text-decoration:underline;--shiki-light-text-decoration:inherit;">String</span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;"> =</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;"> &quot;H:</span><span style="--shiki-dark:#AE81FF;--shiki-light:#0184BC;">\\\\</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">java</span><span style="--shiki-dark:#AE81FF;--shiki-light:#0184BC;">\\\\</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">nrs</span><span style="--shiki-dark:#AE81FF;--shiki-light:#0184BC;">\\\\</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#88846F;--shiki-light:#A0A1A7;--shiki-dark-font-style:inherit;--shiki-light-font-style:italic;">// 进行地理配准</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">       fun</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;"> handleImg</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(path: </span><span style="--shiki-dark:#A6E22E;--shiki-light:#C18401;--shiki-dark-text-decoration:underline;--shiki-light-text-decoration:inherit;">String</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">) {</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">           gdal.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">AllRegister</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">()</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">           val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> dataset </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> gdal.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">Open</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(path)</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">           val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> x </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> dataset.rasterXSize</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">           val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> y </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> dataset.rasterYSize</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">           val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> list </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;"> listOf</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(</span></span>
<span class="line"><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">               GCP</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(</span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">115.2626</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">, </span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">36.832971</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">, </span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">0.0</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">, </span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">0.0</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">),</span></span>
<span class="line"><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">               GCP</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(</span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">115.176448</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">, </span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">36.527851</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">, </span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">0.0</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">, y.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">toDouble</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">()),</span></span>
<span class="line"><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">               GCP</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(</span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">115.554089</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">, </span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">36.457752</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">, x.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">toDouble</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(), y.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">toDouble</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">()),</span></span>
<span class="line"><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">               GCP</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(</span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">115.641695</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">, </span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">36.762737</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">, x.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">toDouble</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(), </span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">0.0</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">),</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">           )</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">           dataset.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">SetGCPs</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(list.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">toTypedArray</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(), sp.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">ExportToWkt</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">())</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">           val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> vector </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;"> Vector</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">&lt;</span><span style="--shiki-dark:#A6E22E;--shiki-light:#C18401;--shiki-dark-text-decoration:underline;--shiki-light-text-decoration:inherit;">String</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">&gt;()</span></span>
<span class="line"><span style="--shiki-dark:#88846F;--shiki-light:#A0A1A7;--shiki-dark-font-style:inherit;--shiki-light-font-style:italic;">           // -srcnodata 0  去除黑边</span></span>
<span class="line"><span style="--shiki-dark:#88846F;--shiki-light:#A0A1A7;--shiki-dark-font-style:inherit;--shiki-light-font-style:italic;">           // -of PNG 设置输出格式</span></span>
<span class="line"><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">           &quot;-r near -of PNG  -srcnodata 0 -dstalpha&quot;</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">split</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">&quot; &quot;</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">).</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">forEach</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> { vector.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">add</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(it) }</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">           gdal.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">Warp</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">&quot;</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#E45649;">$basePath</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">/test.png&quot;</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">, </span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">listOf</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(dataset).</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">toTypedArray</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(), </span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">WarpOptions</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(vector))</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">       }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>3857 坐标下瓦片转 tif</li></ol><div class="language-kotlin line-numbers-mode" data-highlighter="shiki" data-ext="kotlin" data-title="kotlin" style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;--shiki-dark-bg:#272822;--shiki-light-bg:#FAFAFA;"><pre class="shiki shiki-themes monokai one-light vp-code"><code><span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">fun</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;"> handleFile</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(z: </span><span style="--shiki-dark:#A6E22E;--shiki-light:#C18401;--shiki-dark-text-decoration:underline;--shiki-light-text-decoration:inherit;">Int</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">, x: </span><span style="--shiki-dark:#A6E22E;--shiki-light:#C18401;--shiki-dark-text-decoration:underline;--shiki-light-text-decoration:inherit;">Int</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">, y: </span><span style="--shiki-dark:#A6E22E;--shiki-light:#C18401;--shiki-dark-text-decoration:underline;--shiki-light-text-decoration:inherit;">Int</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">) {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#F92672;--shiki-light:#A626A4;">    if</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> (</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">File</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">&quot;E:</span><span style="--shiki-dark:#AE81FF;--shiki-light:#0184BC;">\\\\</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">img2tif</span><span style="--shiki-dark:#AE81FF;--shiki-light:#0184BC;">\\\\</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">\${z}_tif</span><span style="--shiki-dark:#AE81FF;--shiki-light:#0184BC;">\\\\</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">\${x}</span><span style="--shiki-dark:#AE81FF;--shiki-light:#0184BC;">\\\\</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">\${y}.tif&quot;</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">).</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">exists</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">()) </span><span style="--shiki-dark:#F92672;--shiki-light:#A626A4;">return</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">    val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> path </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;"> &quot;E:</span><span style="--shiki-dark:#AE81FF;--shiki-light:#0184BC;">\\\\</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">img2tif</span><span style="--shiki-dark:#AE81FF;--shiki-light:#0184BC;">\\\\</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">\${z}</span><span style="--shiki-dark:#AE81FF;--shiki-light:#0184BC;">\\\\</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">\${x}</span><span style="--shiki-dark:#AE81FF;--shiki-light:#0184BC;">\\\\</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">\${y}.png&quot;</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">    val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> n </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> (</span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">2.0</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">).</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">pow</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(z)</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">    val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> ev </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;"> 20037508.34</span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;"> *</span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;"> 2</span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;"> /</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> n</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">    val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> xStart </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;"> -</span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">20037508.34</span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;"> +</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> x </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">*</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> ev</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">    val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> yStart </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;"> 20037508.34</span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;"> -</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> y </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">*</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> ev</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">    val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> resolution </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> ev </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">/</span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;"> 256</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">    val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> src </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> gdal.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">Open</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(path)</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">    val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> driver </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> gdal.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">GetDriverByName</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">&quot;GTiff&quot;</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">)</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">    val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> dest </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> driver.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">CreateCopy</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">&quot;E:</span><span style="--shiki-dark:#AE81FF;--shiki-light:#0184BC;">\\\\</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">img2tif</span><span style="--shiki-dark:#AE81FF;--shiki-light:#0184BC;">\\\\</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">\${z}_tif</span><span style="--shiki-dark:#AE81FF;--shiki-light:#0184BC;">\\\\</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">\${x}</span><span style="--shiki-dark:#AE81FF;--shiki-light:#0184BC;">\\\\</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">\${y}.tif&quot;</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">, src)</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">    val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> dstTransform </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;"> DoubleArray</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(</span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">6</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">)</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">    dstTransform[</span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">0</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">] </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> xStart</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">    dstTransform[</span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">1</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">] </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> resolution</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">    dstTransform[</span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">2</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">] </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;"> 0.0</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">    dstTransform[</span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">3</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">] </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> yStart</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">    dstTransform[</span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">4</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">] </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;"> 0.0</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">    dstTransform[</span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">5</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">] </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;"> -</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">resolution</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">    dest.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">SetGeoTransform</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(dstTransform)</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">    val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> sp </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;"> SpatialReference</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">()</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">    sp.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">ImportFromEPSG</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(</span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">3857</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">)</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">    dest.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">SetSpatialRef</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(sp)</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">    dest.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">FlushCache</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">()</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5),t=[l];function k(e,p){return a(),s("div",null,t)}const d=i(h,[["render",k],["__file","gdal2.html.vue"]]),g=JSON.parse('{"path":"/article/GIS/2024/gdal2.html","title":"使用 gdal 进行 png 文件的影像配准","lang":"zh-CN","frontmatter":{"date":"2024-08-12T00:00:00.000Z","tags":["gdal"],"categories":["GIS相关"],"description":"使用 gdal 进行 png 文件的影像配准 一般图片的配准 3857 坐标下瓦片转 tif","head":[["meta",{"property":"og:url","content":"http://zesionlee.cn/article/GIS/2024/gdal2.html"}],["meta",{"property":"og:site_name","content":"全栈笔记"}],["meta",{"property":"og:title","content":"使用 gdal 进行 png 文件的影像配准"}],["meta",{"property":"og:description","content":"使用 gdal 进行 png 文件的影像配准 一般图片的配准 3857 坐标下瓦片转 tif"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-08-12T02:27:51.000Z"}],["meta",{"property":"article:author","content":"阿琛"}],["meta",{"property":"article:tag","content":"gdal"}],["meta",{"property":"article:published_time","content":"2024-08-12T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-08-12T02:27:51.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"使用 gdal 进行 png 文件的影像配准\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-08-12T00:00:00.000Z\\",\\"dateModified\\":\\"2024-08-12T02:27:51.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"阿琛\\",\\"url\\":\\"http://zesionlee.cn\\"}]}"]]},"headers":[],"git":{"createdTime":1723429671000,"updatedTime":1723429671000,"contributors":[{"name":"zesionlee","email":"39211025+zesion21@users.noreply.github.com","commits":1}]},"readingTime":{"minutes":0.86,"words":257},"filePathRelative":"article/GIS/2024/gdal2.md","localizedDate":"2024年8月12日","excerpt":"\\n<ol>\\n<li>一般图片的配准</li>\\n</ol>\\n<div class=\\"language-kotlin line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"kotlin\\" data-title=\\"kotlin\\" style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42;--shiki-dark-bg:#272822;--shiki-light-bg:#FAFAFA\\"><pre class=\\"shiki shiki-themes monokai one-light vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-dark:#88846F;--shiki-light:#A0A1A7;--shiki-dark-font-style:inherit;--shiki-light-font-style:italic\\">// 创建4326坐标系</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#F92672;--shiki-light:#A626A4\\">      private</span><span style=\\"--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit\\"> val</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> sp </span><span style=\\"--shiki-dark:#F92672;--shiki-light:#A626A4\\">by</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\"> lazy</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit\\">           val</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> sp </span><span style=\\"--shiki-dark:#F92672;--shiki-light:#383A42\\">=</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\"> SpatialReference</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">()</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">           sp.</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">ImportFromEPSG</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(</span><span style=\\"--shiki-dark:#AE81FF;--shiki-light:#986801\\">4326</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">           sp</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">       }</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#F92672;--shiki-light:#A626A4\\">       private</span><span style=\\"--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit\\"> val</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> basePath: </span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#C18401;--shiki-dark-text-decoration:underline;--shiki-light-text-decoration:inherit\\">String</span><span style=\\"--shiki-dark:#F92672;--shiki-light:#383A42\\"> =</span><span style=\\"--shiki-dark:#E6DB74;--shiki-light:#50A14F\\"> \\"H:</span><span style=\\"--shiki-dark:#AE81FF;--shiki-light:#0184BC\\">\\\\\\\\</span><span style=\\"--shiki-dark:#E6DB74;--shiki-light:#50A14F\\">java</span><span style=\\"--shiki-dark:#AE81FF;--shiki-light:#0184BC\\">\\\\\\\\</span><span style=\\"--shiki-dark:#E6DB74;--shiki-light:#50A14F\\">nrs</span><span style=\\"--shiki-dark:#AE81FF;--shiki-light:#0184BC\\">\\\\\\\\</span><span style=\\"--shiki-dark:#E6DB74;--shiki-light:#50A14F\\">\\"</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#88846F;--shiki-light:#A0A1A7;--shiki-dark-font-style:inherit;--shiki-light-font-style:italic\\">// 进行地理配准</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit\\">       fun</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\"> handleImg</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(path: </span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#C18401;--shiki-dark-text-decoration:underline;--shiki-light-text-decoration:inherit\\">String</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">           gdal.</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">AllRegister</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">()</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit\\">           val</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> dataset </span><span style=\\"--shiki-dark:#F92672;--shiki-light:#383A42\\">=</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> gdal.</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">Open</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(path)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit\\">           val</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> x </span><span style=\\"--shiki-dark:#F92672;--shiki-light:#383A42\\">=</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> dataset.rasterXSize</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit\\">           val</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> y </span><span style=\\"--shiki-dark:#F92672;--shiki-light:#383A42\\">=</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> dataset.rasterYSize</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit\\">           val</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> list </span><span style=\\"--shiki-dark:#F92672;--shiki-light:#383A42\\">=</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\"> listOf</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">               GCP</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(</span><span style=\\"--shiki-dark:#AE81FF;--shiki-light:#986801\\">115.2626</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">, </span><span style=\\"--shiki-dark:#AE81FF;--shiki-light:#986801\\">36.832971</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">, </span><span style=\\"--shiki-dark:#AE81FF;--shiki-light:#986801\\">0.0</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">, </span><span style=\\"--shiki-dark:#AE81FF;--shiki-light:#986801\\">0.0</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">),</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">               GCP</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(</span><span style=\\"--shiki-dark:#AE81FF;--shiki-light:#986801\\">115.176448</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">, </span><span style=\\"--shiki-dark:#AE81FF;--shiki-light:#986801\\">36.527851</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">, </span><span style=\\"--shiki-dark:#AE81FF;--shiki-light:#986801\\">0.0</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">, y.</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">toDouble</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">()),</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">               GCP</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(</span><span style=\\"--shiki-dark:#AE81FF;--shiki-light:#986801\\">115.554089</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">, </span><span style=\\"--shiki-dark:#AE81FF;--shiki-light:#986801\\">36.457752</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">, x.</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">toDouble</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(), y.</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">toDouble</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">()),</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">               GCP</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(</span><span style=\\"--shiki-dark:#AE81FF;--shiki-light:#986801\\">115.641695</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">, </span><span style=\\"--shiki-dark:#AE81FF;--shiki-light:#986801\\">36.762737</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">, x.</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">toDouble</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(), </span><span style=\\"--shiki-dark:#AE81FF;--shiki-light:#986801\\">0.0</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">),</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">           )</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">           dataset.</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">SetGCPs</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(list.</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">toTypedArray</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(), sp.</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">ExportToWkt</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">())</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit\\">           val</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> vector </span><span style=\\"--shiki-dark:#F92672;--shiki-light:#383A42\\">=</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\"> Vector</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">&lt;</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#C18401;--shiki-dark-text-decoration:underline;--shiki-light-text-decoration:inherit\\">String</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">&gt;()</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#88846F;--shiki-light:#A0A1A7;--shiki-dark-font-style:inherit;--shiki-light-font-style:italic\\">           // -srcnodata 0  去除黑边</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#88846F;--shiki-light:#A0A1A7;--shiki-dark-font-style:inherit;--shiki-light-font-style:italic\\">           // -of PNG 设置输出格式</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#E6DB74;--shiki-light:#50A14F\\">           \\"-r near -of PNG  -srcnodata 0 -dstalpha\\"</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">.</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">split</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(</span><span style=\\"--shiki-dark:#E6DB74;--shiki-light:#50A14F\\">\\" \\"</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">).</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">forEach</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> { vector.</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">add</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(it) }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">           gdal.</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">Warp</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(</span><span style=\\"--shiki-dark:#E6DB74;--shiki-light:#50A14F\\">\\"</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#E45649\\">$basePath</span><span style=\\"--shiki-dark:#E6DB74;--shiki-light:#50A14F\\">/test.png\\"</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">, </span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">listOf</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(dataset).</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">toTypedArray</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(), </span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">WarpOptions</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(vector))</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">       }</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{d as comp,g as data};
