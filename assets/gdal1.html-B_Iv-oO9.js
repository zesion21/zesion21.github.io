import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as s,o as a,b as n}from"./app-CFuNIExP.js";const t={},l=n(`<h1 id="使用-gdal-进行-tif-文件的裁剪" tabindex="-1"><a class="header-anchor" href="#使用-gdal-进行-tif-文件的裁剪"><span>使用 gdal 进行 tif 文件的裁剪</span></a></h1><ol><li>创建 gpkg</li></ol><div class="language-kotlin line-numbers-mode" data-highlighter="shiki" data-ext="kotlin" data-title="kotlin" style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;--shiki-dark-bg:#272822;--shiki-light-bg:#FAFAFA;"><pre class="shiki shiki-themes monokai one-light vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">    fun</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;"> createGpkgByStr</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(dataPath: </span><span style="--shiki-dark:#A6E22E;--shiki-light:#C18401;--shiki-dark-text-decoration:underline;--shiki-light-text-decoration:inherit;">String</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">, geojson: </span><span style="--shiki-dark:#A6E22E;--shiki-light:#C18401;--shiki-dark-text-decoration:underline;--shiki-light-text-decoration:inherit;">String</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">): </span><span style="--shiki-dark:#A6E22E;--shiki-light:#C18401;--shiki-dark-text-decoration:underline;--shiki-light-text-decoration:inherit;">String</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> {</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">            val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> ctm </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> System.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">currentTimeMillis</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">()</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">            val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> name </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;"> &quot;temp</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#E45649;">$ctm</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">            val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> path </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> dataPath </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">+</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> File.separator </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">+</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;"> &quot;tmp&quot;</span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;"> +</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> File.separator </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">+</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;"> &quot;</span><span style="--shiki-dark:#F92672;--shiki-light:#50A14F;">\${</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#50A14F;">name</span><span style="--shiki-dark:#F92672;--shiki-light:#50A14F;">}</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">.gpkg&quot;</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">            ogr.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">RegisterAll</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">            val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> ds </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> ogr.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">GetDriverByName</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">&quot;GPKG&quot;</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">).</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">CreateDataSource</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(path)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">            val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> sr </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;"> SpatialReference</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">()</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">            sr.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">ImportFromEPSG</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(</span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">4326</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">)</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">            val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> layer </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> ds.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">CreateLayer</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">&quot;temp&quot;</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">, sr, </span><span style="--shiki-dark:#AE81FF;--shiki-light:#986801;">3</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">)</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">            val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> feature </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;"> Feature</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(layer.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">GetLayerDefn</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">())</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">            val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> geom </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> Geometry.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">CreateFromJson</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(geojson)</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">            geom.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">FlattenTo2D</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">()</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">            feature.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">SetGeometry</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(geom)</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">            layer.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">CreateFeature</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(feature)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#88846F;--shiki-light:#A0A1A7;--shiki-dark-font-style:inherit;--shiki-light-font-style:italic;">//            ds.FlushCache()</span></span>
<span class="line"><span style="--shiki-dark:#88846F;--shiki-light:#A0A1A7;--shiki-dark-font-style:inherit;--shiki-light-font-style:italic;">//            ds.SyncToDisk()</span></span>
<span class="line"><span style="--shiki-dark:#88846F;--shiki-light:#A0A1A7;--shiki-dark-font-style:inherit;--shiki-light-font-style:italic;">//            gdal.GDALDestroyDriverManager()</span></span>
<span class="line"><span style="--shiki-dark:#F92672;--shiki-light:#A626A4;">            return</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> path</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">        }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>使用创建的 gpkg 对 tif 进行裁剪</li></ol><div class="language-kotlin line-numbers-mode" data-highlighter="shiki" data-ext="kotlin" data-title="kotlin" style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;--shiki-dark-bg:#272822;--shiki-light-bg:#FAFAFA;"><pre class="shiki shiki-themes monokai one-light vp-code"><code><span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">   fun</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;"> clipTif</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(dataPath: </span><span style="--shiki-dark:#A6E22E;--shiki-light:#C18401;--shiki-dark-text-decoration:underline;--shiki-light-text-decoration:inherit;">String</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">, srcPath: </span><span style="--shiki-dark:#A6E22E;--shiki-light:#C18401;--shiki-dark-text-decoration:underline;--shiki-light-text-decoration:inherit;">String</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">, destPath: </span><span style="--shiki-dark:#A6E22E;--shiki-light:#C18401;--shiki-dark-text-decoration:underline;--shiki-light-text-decoration:inherit;">String</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">, geojson: </span><span style="--shiki-dark:#A6E22E;--shiki-light:#C18401;--shiki-dark-text-decoration:underline;--shiki-light-text-decoration:inherit;">String</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">) {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">            gdal.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">AllRegister</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">()</span></span>
<span class="line"><span style="--shiki-dark:#88846F;--shiki-light:#A0A1A7;--shiki-dark-font-style:inherit;--shiki-light-font-style:italic;">//            val futureTask1 = FutureTask(CreateGpkgCallable(geojson))</span></span>
<span class="line"><span style="--shiki-dark:#88846F;--shiki-light:#A0A1A7;--shiki-dark-font-style:inherit;--shiki-light-font-style:italic;">//            val thread1 = Thread(futureTask1)</span></span>
<span class="line"><span style="--shiki-dark:#88846F;--shiki-light:#A0A1A7;--shiki-dark-font-style:inherit;--shiki-light-font-style:italic;">//            thread1.start()</span></span>
<span class="line"><span style="--shiki-dark:#88846F;--shiki-light:#A0A1A7;--shiki-dark-font-style:inherit;--shiki-light-font-style:italic;">//            val args = futureTask1.get()</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">            val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> args </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;"> createGeojsonByStr</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(dataPath, geojson)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">            val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> vector: </span><span style="--shiki-dark:#A6E22E;--shiki-light:#C18401;--shiki-dark-text-decoration:underline;--shiki-light-text-decoration:inherit;">Vector</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">&lt;</span><span style="--shiki-dark:#A6E22E;--shiki-light:#C18401;--shiki-dark-text-decoration:underline;--shiki-light-text-decoration:inherit;">String</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">&gt; </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;"> Vector</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">()</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">            val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> srcDs: </span><span style="--shiki-dark:#A6E22E;--shiki-light:#C18401;--shiki-dark-text-decoration:underline;--shiki-light-text-decoration:inherit;">Dataset</span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;"> =</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> gdal.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">Open</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(srcPath, gdalconstConstants.GA_ReadOnly)</span></span>
<span class="line"><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">            &quot;-overwrite  -t_srs EPSG:4326 -of GTiff -cutline </span><span style="--shiki-dark:#F8F8F2;--shiki-light:#E45649;">$args</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;"> -cl temp -crop_to_cutline&quot;</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">                .</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">split</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(</span><span style="--shiki-dark:#E6DB74;--shiki-light:#50A14F;">&quot; &quot;</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">).</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">forEach</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> { vector.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">add</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(it) }</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">            gdal.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">Warp</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(destPath, </span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">arrayOf</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(srcDs), </span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">WarpOptions</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(vector))</span></span>
<span class="line"><span style="--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit;">            val</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> f </span><span style="--shiki-dark:#F92672;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;"> File</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">(args)</span></span>
<span class="line"><span style="--shiki-dark:#F92672;--shiki-light:#A626A4;">            if</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;"> (f.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">exists</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">()) f.</span><span style="--shiki-dark:#A6E22E;--shiki-light:#4078F2;">delete</span><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">()</span></span>
<span class="line"><span style="--shiki-dark:#F8F8F2;--shiki-light:#383A42;">        }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5),h=[l];function e(k,p){return a(),s("div",null,h)}const F=i(t,[["render",e],["__file","gdal1.html.vue"]]),g=JSON.parse('{"path":"/article/GIS/2024/gdal1.html","title":"使用 gdal 进行 tif 文件的裁剪","lang":"zh-CN","frontmatter":{"date":"2024-08-12T00:00:00.000Z","tags":["gdal"],"categories":["GIS相关"],"description":"使用 gdal 进行 tif 文件的裁剪 创建 gpkg 使用创建的 gpkg 对 tif 进行裁剪","head":[["meta",{"property":"og:url","content":"http://zesionlee.cn/article/GIS/2024/gdal1.html"}],["meta",{"property":"og:site_name","content":"全栈笔记"}],["meta",{"property":"og:title","content":"使用 gdal 进行 tif 文件的裁剪"}],["meta",{"property":"og:description","content":"使用 gdal 进行 tif 文件的裁剪 创建 gpkg 使用创建的 gpkg 对 tif 进行裁剪"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-08-12T02:27:51.000Z"}],["meta",{"property":"article:author","content":"阿琛"}],["meta",{"property":"article:tag","content":"gdal"}],["meta",{"property":"article:published_time","content":"2024-08-12T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-08-12T02:27:51.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"使用 gdal 进行 tif 文件的裁剪\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-08-12T00:00:00.000Z\\",\\"dateModified\\":\\"2024-08-12T02:27:51.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"阿琛\\",\\"url\\":\\"http://zesionlee.cn\\"}]}"]]},"headers":[],"git":{"createdTime":1723429671000,"updatedTime":1723429671000,"contributors":[{"name":"zesionlee","email":"39211025+zesion21@users.noreply.github.com","commits":1}]},"readingTime":{"minutes":0.58,"words":173},"filePathRelative":"article/GIS/2024/gdal1.md","localizedDate":"2024年8月12日","excerpt":"\\n<ol>\\n<li>创建 gpkg</li>\\n</ol>\\n<div class=\\"language-kotlin line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"kotlin\\" data-title=\\"kotlin\\" style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42;--shiki-dark-bg:#272822;--shiki-light-bg:#FAFAFA\\"><pre class=\\"shiki shiki-themes monokai one-light vp-code\\"><code><span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit\\">    fun</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\"> createGpkgByStr</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(dataPath: </span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#C18401;--shiki-dark-text-decoration:underline;--shiki-light-text-decoration:inherit\\">String</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">, geojson: </span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#C18401;--shiki-dark-text-decoration:underline;--shiki-light-text-decoration:inherit\\">String</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">): </span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#C18401;--shiki-dark-text-decoration:underline;--shiki-light-text-decoration:inherit\\">String</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit\\">            val</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> ctm </span><span style=\\"--shiki-dark:#F92672;--shiki-light:#383A42\\">=</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> System.</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">currentTimeMillis</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">()</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit\\">            val</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> name </span><span style=\\"--shiki-dark:#F92672;--shiki-light:#383A42\\">=</span><span style=\\"--shiki-dark:#E6DB74;--shiki-light:#50A14F\\"> \\"temp</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#E45649\\">$ctm</span><span style=\\"--shiki-dark:#E6DB74;--shiki-light:#50A14F\\">\\"</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit\\">            val</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> path </span><span style=\\"--shiki-dark:#F92672;--shiki-light:#383A42\\">=</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> dataPath </span><span style=\\"--shiki-dark:#F92672;--shiki-light:#383A42\\">+</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> File.separator </span><span style=\\"--shiki-dark:#F92672;--shiki-light:#383A42\\">+</span><span style=\\"--shiki-dark:#E6DB74;--shiki-light:#50A14F\\"> \\"tmp\\"</span><span style=\\"--shiki-dark:#F92672;--shiki-light:#383A42\\"> +</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> File.separator </span><span style=\\"--shiki-dark:#F92672;--shiki-light:#383A42\\">+</span><span style=\\"--shiki-dark:#E6DB74;--shiki-light:#50A14F\\"> \\"</span><span style=\\"--shiki-dark:#F92672;--shiki-light:#50A14F\\">${</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#50A14F\\">name</span><span style=\\"--shiki-dark:#F92672;--shiki-light:#50A14F\\">}</span><span style=\\"--shiki-dark:#E6DB74;--shiki-light:#50A14F\\">.gpkg\\"</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">            ogr.</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">RegisterAll</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">()</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit\\">            val</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> ds </span><span style=\\"--shiki-dark:#F92672;--shiki-light:#383A42\\">=</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> ogr.</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">GetDriverByName</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(</span><span style=\\"--shiki-dark:#E6DB74;--shiki-light:#50A14F\\">\\"GPKG\\"</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">).</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">CreateDataSource</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(path)</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit\\">            val</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> sr </span><span style=\\"--shiki-dark:#F92672;--shiki-light:#383A42\\">=</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\"> SpatialReference</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">()</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">            sr.</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">ImportFromEPSG</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(</span><span style=\\"--shiki-dark:#AE81FF;--shiki-light:#986801\\">4326</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit\\">            val</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> layer </span><span style=\\"--shiki-dark:#F92672;--shiki-light:#383A42\\">=</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> ds.</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">CreateLayer</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(</span><span style=\\"--shiki-dark:#E6DB74;--shiki-light:#50A14F\\">\\"temp\\"</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">, sr, </span><span style=\\"--shiki-dark:#AE81FF;--shiki-light:#986801\\">3</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit\\">            val</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> feature </span><span style=\\"--shiki-dark:#F92672;--shiki-light:#383A42\\">=</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\"> Feature</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(layer.</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">GetLayerDefn</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">())</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#66D9EF;--shiki-light:#A626A4;--shiki-dark-font-style:italic;--shiki-light-font-style:inherit\\">            val</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> geom </span><span style=\\"--shiki-dark:#F92672;--shiki-light:#383A42\\">=</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> Geometry.</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">CreateFromJson</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(geojson)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">            geom.</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">FlattenTo2D</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">()</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">            feature.</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">SetGeometry</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(geom)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">            layer.</span><span style=\\"--shiki-dark:#A6E22E;--shiki-light:#4078F2\\">CreateFeature</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">(feature)</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#88846F;--shiki-light:#A0A1A7;--shiki-dark-font-style:inherit;--shiki-light-font-style:italic\\">//            ds.FlushCache()</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#88846F;--shiki-light:#A0A1A7;--shiki-dark-font-style:inherit;--shiki-light-font-style:italic\\">//            ds.SyncToDisk()</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#88846F;--shiki-light:#A0A1A7;--shiki-dark-font-style:inherit;--shiki-light-font-style:italic\\">//            gdal.GDALDestroyDriverManager()</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#F92672;--shiki-light:#A626A4\\">            return</span><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\"> path</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-dark:#F8F8F2;--shiki-light:#383A42\\">        }</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{F as comp,g as data};
